{"ast":null,"code":"// src/services/articleService.js\nimport { aiService } from './aiService';\nclass ArticleService {\n  constructor() {\n    this.categories = {\n      成長: '個人成長與自我提升',\n      勵志: '激勵人心與正能量',\n      人生感悟: '人生哲理與智慧',\n      愛與溫暖: '愛情親情與人際關係'\n    };\n    this.tones = {\n      溫馨: 'warm',\n      激勵: 'inspirational',\n      深刻: 'profound',\n      輕鬆: 'casual'\n    };\n  }\n\n  // 生成心靈雞湯文章\n  async generateInspirationalArticle({\n    topic,\n    category,\n    tone,\n    wordCount,\n    useAI = false\n  }) {\n    try {\n      let result;\n      if (useAI && aiService) {\n        // 使用 AI 增強版本\n        result = await aiService.enhanceInspirationalArticle(topic, category, tone, wordCount);\n        if (result && result.article) {\n          return {\n            ...result,\n            wordCount: this.countWords(this.formatArticle(result.article)),\n            aiEnhanced: true,\n            aiConfidence: result.confidence || 85\n          };\n        }\n      }\n\n      // 基本版本生成\n      const basicArticle = this.generateBasicArticle(topic, category, tone, wordCount);\n      return {\n        article: basicArticle,\n        wordCount: this.countWords(this.formatArticle(basicArticle)),\n        aiEnhanced: false,\n        suggestions: {\n          alternativeTitles: this.generateAlternativeTitles(topic, category),\n          improvementTips: this.getWritingTips(category),\n          relatedTopics: this.getRelatedTopics(category)\n        }\n      };\n    } catch (error) {\n      console.error('文章生成失敗:', error);\n      throw new Error('文章生成失敗，請重試');\n    }\n  }\n\n  // 生成基本文章\n  generateBasicArticle(topic, category, tone, targetWords) {\n    const templates = this.getTemplates(category);\n    return {\n      title: this.generateTitle(topic, category),\n      introduction: this.generateIntroduction(topic, category, tone),\n      story: this.generateStory(topic, category, targetWords),\n      insights: this.generateInsights(topic, category),\n      reflection: this.generateReflection(topic, category),\n      conclusion: this.generateConclusion(topic, tone),\n      message: this.generateMessage(topic, tone)\n    };\n  }\n\n  // 生成文章標題\n  generateTitle(topic, category) {\n    const titleTemplates = {\n      成長: [`關於${topic}，我想對你說...`, `${topic}教會我的人生道理`, `從${topic}中學到的成長智慧`, `${topic}：每個人都需要知道的事`],\n      勵志: [`${topic}：相信自己的力量`, `當你覺得${topic}很困難時，請記住...`, `${topic}不是終點，而是起點`, `擁抱${topic}，創造屬於你的奇蹟`],\n      人生感悟: [`人生如${topic}，苦甜自知`, `關於${topic}的人生思考`, `${topic}中隱藏的人生智慧`, `生命中的${topic}時刻`],\n      愛與溫暖: [`愛如${topic}，溫暖人心`, `${topic}裡的愛與被愛`, `用心感受${topic}的溫度`, `${topic}：愛的另一種表達`]\n    };\n    const templates = titleTemplates[category] || titleTemplates.成長;\n    return templates[Math.floor(Math.random() * templates.length)];\n  }\n\n  // 生成開場段落\n  generateIntroduction(topic, category, tone) {\n    const introTemplates = {\n      溫馨: `親愛的朋友，當我們談到${topic}時，總是充滿了溫暖與感動。在這個快節奏的世界裡，讓我們停下腳步，一起感受內心最真實的聲音。`,\n      激勵: `你有沒有想過，${topic}其實是改變我們人生的關鍵？每個人心中都有一股力量，等待被喚醒。今天，就讓我們一起探索這個充滿可能性的話題。`,\n      深刻: `在人生的長河中，${topic}如同一顆石子，激起層層漣漪。它不只是一個概念，更是我們理解自己、理解世界的重要視角。`,\n      輕鬆: `嘿，朋友！讓我們輕鬆地聊聊${topic}這個話題。生活已經夠複雜了，不如用最簡單的方式來理解這些美好的事物。`\n    };\n    return introTemplates[tone] || introTemplates.溫馨;\n  }\n\n  // 生成故事內容\n  generateStory(topic, category, targetWords) {\n    const storyElements = this.getStoryElements(category);\n    const mainStory = storyElements.stories[Math.floor(Math.random() * storyElements.stories.length)];\n\n    // 基礎故事內容\n    let story = mainStory.replace('{主題}', topic);\n\n    // 擴展故事到目標字數\n    const wordsPerParagraph = Math.ceil(targetWords * 0.7 / 3); // 故事佔70%，分3段\n\n    const expandedParagraphs = [];\n\n    // 第一段：背景設定\n    expandedParagraphs.push(`${story} 這個故事讓我想起了生活中的許多時刻，那些看似平凡卻蘊含深意的瞬間。在我們每個人的生命中，都會遇到與${topic}相關的挑戰和機遇。有時候我們會迷茫，有時候我們會堅定，但無論如何，這些經歷都在塑造著我們成為更好的自己。`);\n\n    // 第二段：深入探討\n    expandedParagraphs.push(`當我們仔細思考${topic}的本質時，會發現它不僅僅是表面上看到的那樣。它代表著一種態度，一種選擇，一種面對生活的方式。每個人對於${topic}的理解都不盡相同，這正是人生多彩的地方。有人從中看到希望，有人從中學到堅韌，有人從中感受到愛與溫暖。`);\n\n    // 第三段：個人感悟\n    expandedParagraphs.push(`我們都在尋找屬於自己的${topic}答案。這個過程可能充滿挑戰，但也充滿收穫。重要的不是我們走得多快，而是我們是否在這個過程中成長，是否變得更加理解自己和他人。每一次的思考，每一次的嘗試，都在讓我們更接近內心的真實聲音。`);\n    return expandedParagraphs.join('\\n\\n');\n  }\n\n  // 生成人生感悟\n  generateInsights(topic, category) {\n    const insightTemplates = {\n      成長: [`${topic}教會我們，成長不是一蹴而就的過程`, `在${topic}中，我們學會了接受不完美的自己`, `每一次的${topic}經歷，都是生命給我們的禮物`],\n      勵志: [`${topic}告訴我們，困難只是成功路上的墊腳石`, `相信${topic}的力量，就是相信自己的無限可能`, `在${topic}面前，我們都是勇敢的戰士`],\n      人生感悟: [`${topic}讓我明白，人生的意義在於體驗而非結果`, `透過${topic}，我們看見了生命的真諦`, `${topic}是人生路上最好的老師`],\n      愛與溫暖: [`${topic}提醒我們，愛是世界上最強大的力量`, `在${topic}中，我們感受到被愛與愛人的幸福`, `${topic}告訴我們，溫暖總會戰勝寒冷`]\n    };\n    const templates = insightTemplates[category] || insightTemplates.成長;\n    return templates.slice(0, 2); // 返回2個感悟\n  }\n\n  // 生成反思段落\n  generateReflection(topic, category) {\n    const reflectionTemplates = {\n      成長: `回想起與${topic}相關的這些經歷，我深深感受到成長的不易與珍貴。我們都在自己的道路上前行，或許步伐不同，但方向一致——都在尋找更好的自己。`,\n      勵志: `每當想到${topic}，我的心中就充滿力量。這不是一種虛無的感覺，而是來自內心深處的堅定信念。我們每個人都有無限的潛能，只是需要被喚醒。`,\n      人生感悟: `生命就像一本書，而${topic}是其中最精彩的章節之一。我們在其中學會思考，學會感受，學會珍惜每一個當下的美好。`,\n      愛與溫暖: `${topic}讓我明白，這個世界之所以美好，是因為有愛的存在。無論走到哪裡，都要記得保持一顆溫暖的心，去愛，也去接受愛。`\n    };\n    return reflectionTemplates[category] || reflectionTemplates.成長;\n  }\n\n  // 生成結論\n  generateConclusion(topic, tone) {\n    const conclusionTemplates = {\n      溫馨: `願我們都能在${topic}中找到屬於自己的溫暖與力量，在人生的路上互相扶持，共同成長。`,\n      激勵: `相信自己，相信${topic}的力量！你的人生，由你自己書寫！`,\n      深刻: `${topic}不僅是一個話題，更是我們理解生命、感受生活的重要途徑。`,\n      輕鬆: `生活就是這樣，簡單而美好。願我們都能在${topic}中找到快樂的理由。`\n    };\n    return conclusionTemplates[tone] || conclusionTemplates.溫馨;\n  }\n\n  // 生成正能量訊息\n  generateMessage(topic, tone) {\n    const messageTemplates = {\n      溫馨: `記住，你比想像中更強大，你值得所有美好的事物。`,\n      激勵: `今天是新的開始，去創造屬於你的奇蹟吧！`,\n      深刻: `人生的意義，在於我們如何對待每一個平凡的日子。`,\n      輕鬆: `保持微笑，生活會對你微笑回應。`\n    };\n    return messageTemplates[tone] || messageTemplates.溫馨;\n  }\n\n  // 獲取故事元素\n  getStoryElements(category) {\n    const elements = {\n      成長: {\n        stories: [\"有一個年輕人，在面對{主題}時，曾經感到迷茫和困惑...\", \"我認識一個朋友，她用自己的經歷告訴我{主題}的真正含義...\", \"在一個普通的日子裡，我偶然遇到了一位老人，他關於{主題}的話改變了我的想法...\"]\n      },\n      勵志: {\n        stories: [\"有一位運動員，在最困難的時刻，{主題}成為了他繼續前進的動力...\", \"一個創業者的故事告訴我們，{主題}是成功路上最重要的品質...\", \"當所有人都說不可能時，她用{主題}證明了奇蹟的存在...\"]\n      },\n      人生感悟: {\n        stories: [\"坐在咖啡廳裡，看著窗外的行人，我突然對{主題}有了新的理解...\", \"讀到一本書中關於{主題}的描述，我陷入了深深的思考...\", \"在人生的某個轉折點上，{主題}讓我重新審視了自己的價值觀...\"]\n      },\n      愛與溫暖: {\n        stories: [\"一個母親和孩子的故事，讓我明白了{主題}最純粹的樣子...\", \"在醫院裡，我看到了{主題}最真實、最感人的表現...\", \"一對老夫妻的日常生活，詮釋了{主題}最深刻的含義...\"]\n      }\n    };\n    return elements[category] || elements.成長;\n  }\n\n  // 生成替代標題\n  generateAlternativeTitles(topic, category) {\n    const alternatives = [`${topic}：每個人心中的那道光`, `關於${topic}，我們都需要知道的事`, `在${topic}中尋找人生的答案`, `${topic}背後的深層意義`];\n    return alternatives.slice(0, 3);\n  }\n\n  // 獲取寫作技巧\n  getWritingTips(category) {\n    const tips = {\n      成長: ['多使用具體的例子和故事來說明觀點', '從讀者的角度出發，讓內容更有共鳴', '結合個人經歷，讓文章更有真實感'],\n      勵志: ['使用積極正面的詞彙和語調', '設置明確的行動呼籲，激勵讀者採取行動', '加入數據或成功案例增強說服力'],\n      人生感悟: ['保持思考的深度，避免浮於表面', '運用比喻和類比讓抽象概念更易理解', '給讀者留下思考的空間'],\n      愛與溫暖: ['注重情感的表達，讓文字有溫度', '使用溫馨的故事和場景', '營造親切友善的寫作風格']\n    };\n    return tips[category] || tips.成長;\n  }\n\n  // 獲取相關主題\n  getRelatedTopics(category) {\n    const related = {\n      成長: ['自我提升', '學習成長', '個人發展'],\n      勵志: ['正能量', '夢想追求', '堅持不懈'],\n      人生感悟: ['人生哲理', '生活智慧', '內心平靜'],\n      愛與溫暖: ['感恩', '友情', '家庭溫暖']\n    };\n    return related[category] || related.成長;\n  }\n\n  // 格式化文章\n  formatArticle(article) {\n    if (!article) return '';\n    let formatted = '';\n    if (article.title) {\n      formatted += `# ${article.title}\\n\\n`;\n    }\n    if (article.introduction) {\n      formatted += `${article.introduction}\\n\\n`;\n    }\n    if (article.story) {\n      formatted += `${article.story}\\n\\n`;\n    }\n    if (article.insights && Array.isArray(article.insights)) {\n      formatted += `## 人生感悟\\n\\n`;\n      article.insights.forEach(insight => {\n        formatted += `💭 ${insight}\\n\\n`;\n      });\n    }\n    if (article.reflection) {\n      formatted += `## 深度思考\\n\\n${article.reflection}\\n\\n`;\n    }\n    if (article.conclusion) {\n      formatted += `${article.conclusion}\\n\\n`;\n    }\n    if (article.message) {\n      formatted += `**✨ ${article.message}**\\n`;\n    }\n    return formatted;\n  }\n\n  // 計算字數\n  countWords(text) {\n    if (!text) return 0;\n    // 移除 markdown 標記和特殊字符，只計算中文字符數\n    const cleanText = text.replace(/[#*`\\-\\n\\r]/g, '').replace(/[a-zA-Z0-9\\s]/g, '');\n    return cleanText.length;\n  }\n\n  // 獲取模板\n  getTemplates(category) {\n    return {\n      category: category,\n      description: this.categories[category]\n    };\n  }\n}\n\n// 導出單例實例\nexport const articleService = new ArticleService();\nexport default ArticleService;","map":{"version":3,"names":["aiService","ArticleService","constructor","categories","成長","勵志","人生感悟","愛與溫暖","tones","溫馨","激勵","深刻","輕鬆","generateInspirationalArticle","topic","category","tone","wordCount","useAI","result","enhanceInspirationalArticle","article","countWords","formatArticle","aiEnhanced","aiConfidence","confidence","basicArticle","generateBasicArticle","suggestions","alternativeTitles","generateAlternativeTitles","improvementTips","getWritingTips","relatedTopics","getRelatedTopics","error","console","Error","targetWords","templates","getTemplates","title","generateTitle","introduction","generateIntroduction","story","generateStory","insights","generateInsights","reflection","generateReflection","conclusion","generateConclusion","message","generateMessage","titleTemplates","Math","floor","random","length","introTemplates","storyElements","getStoryElements","mainStory","stories","replace","wordsPerParagraph","ceil","expandedParagraphs","push","join","insightTemplates","slice","reflectionTemplates","conclusionTemplates","messageTemplates","elements","alternatives","tips","related","formatted","Array","isArray","forEach","insight","text","cleanText","description","articleService"],"sources":["/Users/gilko/Documents/claude-code/soup2/motivation-script-generator/src/services/articleService.js"],"sourcesContent":["// src/services/articleService.js\nimport { aiService } from './aiService';\n\nclass ArticleService {\n    constructor() {\n        this.categories = {\n            成長: '個人成長與自我提升',\n            勵志: '激勵人心與正能量',\n            人生感悟: '人生哲理與智慧',\n            愛與溫暖: '愛情親情與人際關係'\n        };\n        \n        this.tones = {\n            溫馨: 'warm',\n            激勵: 'inspirational', \n            深刻: 'profound',\n            輕鬆: 'casual'\n        };\n    }\n\n    // 生成心靈雞湯文章\n    async generateInspirationalArticle({ topic, category, tone, wordCount, useAI = false }) {\n        try {\n            let result;\n            \n            if (useAI && aiService) {\n                // 使用 AI 增強版本\n                result = await aiService.enhanceInspirationalArticle(topic, category, tone, wordCount);\n                \n                if (result && result.article) {\n                    return {\n                        ...result,\n                        wordCount: this.countWords(this.formatArticle(result.article)),\n                        aiEnhanced: true,\n                        aiConfidence: result.confidence || 85\n                    };\n                }\n            }\n            \n            // 基本版本生成\n            const basicArticle = this.generateBasicArticle(topic, category, tone, wordCount);\n            \n            return {\n                article: basicArticle,\n                wordCount: this.countWords(this.formatArticle(basicArticle)),\n                aiEnhanced: false,\n                suggestions: {\n                    alternativeTitles: this.generateAlternativeTitles(topic, category),\n                    improvementTips: this.getWritingTips(category),\n                    relatedTopics: this.getRelatedTopics(category)\n                }\n            };\n            \n        } catch (error) {\n            console.error('文章生成失敗:', error);\n            throw new Error('文章生成失敗，請重試');\n        }\n    }\n\n    // 生成基本文章\n    generateBasicArticle(topic, category, tone, targetWords) {\n        const templates = this.getTemplates(category);\n        \n        return {\n            title: this.generateTitle(topic, category),\n            introduction: this.generateIntroduction(topic, category, tone),\n            story: this.generateStory(topic, category, targetWords),\n            insights: this.generateInsights(topic, category),\n            reflection: this.generateReflection(topic, category),\n            conclusion: this.generateConclusion(topic, tone),\n            message: this.generateMessage(topic, tone)\n        };\n    }\n\n    // 生成文章標題\n    generateTitle(topic, category) {\n        const titleTemplates = {\n            成長: [\n                `關於${topic}，我想對你說...`,\n                `${topic}教會我的人生道理`,\n                `從${topic}中學到的成長智慧`,\n                `${topic}：每個人都需要知道的事`\n            ],\n            勵志: [\n                `${topic}：相信自己的力量`,\n                `當你覺得${topic}很困難時，請記住...`,\n                `${topic}不是終點，而是起點`,\n                `擁抱${topic}，創造屬於你的奇蹟`\n            ],\n            人生感悟: [\n                `人生如${topic}，苦甜自知`,\n                `關於${topic}的人生思考`,\n                `${topic}中隱藏的人生智慧`,\n                `生命中的${topic}時刻`\n            ],\n            愛與溫暖: [\n                `愛如${topic}，溫暖人心`,\n                `${topic}裡的愛與被愛`,\n                `用心感受${topic}的溫度`,\n                `${topic}：愛的另一種表達`\n            ]\n        };\n        \n        const templates = titleTemplates[category] || titleTemplates.成長;\n        return templates[Math.floor(Math.random() * templates.length)];\n    }\n\n    // 生成開場段落\n    generateIntroduction(topic, category, tone) {\n        const introTemplates = {\n            溫馨: `親愛的朋友，當我們談到${topic}時，總是充滿了溫暖與感動。在這個快節奏的世界裡，讓我們停下腳步，一起感受內心最真實的聲音。`,\n            激勵: `你有沒有想過，${topic}其實是改變我們人生的關鍵？每個人心中都有一股力量，等待被喚醒。今天，就讓我們一起探索這個充滿可能性的話題。`,\n            深刻: `在人生的長河中，${topic}如同一顆石子，激起層層漣漪。它不只是一個概念，更是我們理解自己、理解世界的重要視角。`,\n            輕鬆: `嘿，朋友！讓我們輕鬆地聊聊${topic}這個話題。生活已經夠複雜了，不如用最簡單的方式來理解這些美好的事物。`\n        };\n        \n        return introTemplates[tone] || introTemplates.溫馨;\n    }\n\n    // 生成故事內容\n    generateStory(topic, category, targetWords) {\n        const storyElements = this.getStoryElements(category);\n        const mainStory = storyElements.stories[Math.floor(Math.random() * storyElements.stories.length)];\n        \n        // 基礎故事內容\n        let story = mainStory.replace('{主題}', topic);\n        \n        // 擴展故事到目標字數\n        const wordsPerParagraph = Math.ceil(targetWords * 0.7 / 3); // 故事佔70%，分3段\n        \n        const expandedParagraphs = [];\n        \n        // 第一段：背景設定\n        expandedParagraphs.push(`${story} 這個故事讓我想起了生活中的許多時刻，那些看似平凡卻蘊含深意的瞬間。在我們每個人的生命中，都會遇到與${topic}相關的挑戰和機遇。有時候我們會迷茫，有時候我們會堅定，但無論如何，這些經歷都在塑造著我們成為更好的自己。`);\n        \n        // 第二段：深入探討\n        expandedParagraphs.push(`當我們仔細思考${topic}的本質時，會發現它不僅僅是表面上看到的那樣。它代表著一種態度，一種選擇，一種面對生活的方式。每個人對於${topic}的理解都不盡相同，這正是人生多彩的地方。有人從中看到希望，有人從中學到堅韌，有人從中感受到愛與溫暖。`);\n        \n        // 第三段：個人感悟\n        expandedParagraphs.push(`我們都在尋找屬於自己的${topic}答案。這個過程可能充滿挑戰，但也充滿收穫。重要的不是我們走得多快，而是我們是否在這個過程中成長，是否變得更加理解自己和他人。每一次的思考，每一次的嘗試，都在讓我們更接近內心的真實聲音。`);\n        \n        return expandedParagraphs.join('\\n\\n');\n    }\n\n    // 生成人生感悟\n    generateInsights(topic, category) {\n        const insightTemplates = {\n            成長: [\n                `${topic}教會我們，成長不是一蹴而就的過程`,\n                `在${topic}中，我們學會了接受不完美的自己`,\n                `每一次的${topic}經歷，都是生命給我們的禮物`\n            ],\n            勵志: [\n                `${topic}告訴我們，困難只是成功路上的墊腳石`,\n                `相信${topic}的力量，就是相信自己的無限可能`,\n                `在${topic}面前，我們都是勇敢的戰士`\n            ],\n            人生感悟: [\n                `${topic}讓我明白，人生的意義在於體驗而非結果`,\n                `透過${topic}，我們看見了生命的真諦`,\n                `${topic}是人生路上最好的老師`\n            ],\n            愛與溫暖: [\n                `${topic}提醒我們，愛是世界上最強大的力量`,\n                `在${topic}中，我們感受到被愛與愛人的幸福`,\n                `${topic}告訴我們，溫暖總會戰勝寒冷`\n            ]\n        };\n        \n        const templates = insightTemplates[category] || insightTemplates.成長;\n        return templates.slice(0, 2); // 返回2個感悟\n    }\n\n    // 生成反思段落\n    generateReflection(topic, category) {\n        const reflectionTemplates = {\n            成長: `回想起與${topic}相關的這些經歷，我深深感受到成長的不易與珍貴。我們都在自己的道路上前行，或許步伐不同，但方向一致——都在尋找更好的自己。`,\n            勵志: `每當想到${topic}，我的心中就充滿力量。這不是一種虛無的感覺，而是來自內心深處的堅定信念。我們每個人都有無限的潛能，只是需要被喚醒。`,\n            人生感悟: `生命就像一本書，而${topic}是其中最精彩的章節之一。我們在其中學會思考，學會感受，學會珍惜每一個當下的美好。`,\n            愛與溫暖: `${topic}讓我明白，這個世界之所以美好，是因為有愛的存在。無論走到哪裡，都要記得保持一顆溫暖的心，去愛，也去接受愛。`\n        };\n        \n        return reflectionTemplates[category] || reflectionTemplates.成長;\n    }\n\n    // 生成結論\n    generateConclusion(topic, tone) {\n        const conclusionTemplates = {\n            溫馨: `願我們都能在${topic}中找到屬於自己的溫暖與力量，在人生的路上互相扶持，共同成長。`,\n            激勵: `相信自己，相信${topic}的力量！你的人生，由你自己書寫！`,\n            深刻: `${topic}不僅是一個話題，更是我們理解生命、感受生活的重要途徑。`,\n            輕鬆: `生活就是這樣，簡單而美好。願我們都能在${topic}中找到快樂的理由。`\n        };\n        \n        return conclusionTemplates[tone] || conclusionTemplates.溫馨;\n    }\n\n    // 生成正能量訊息\n    generateMessage(topic, tone) {\n        const messageTemplates = {\n            溫馨: `記住，你比想像中更強大，你值得所有美好的事物。`,\n            激勵: `今天是新的開始，去創造屬於你的奇蹟吧！`,\n            深刻: `人生的意義，在於我們如何對待每一個平凡的日子。`,\n            輕鬆: `保持微笑，生活會對你微笑回應。`\n        };\n        \n        return messageTemplates[tone] || messageTemplates.溫馨;\n    }\n\n    // 獲取故事元素\n    getStoryElements(category) {\n        const elements = {\n            成長: {\n                stories: [\n                    \"有一個年輕人，在面對{主題}時，曾經感到迷茫和困惑...\",\n                    \"我認識一個朋友，她用自己的經歷告訴我{主題}的真正含義...\",\n                    \"在一個普通的日子裡，我偶然遇到了一位老人，他關於{主題}的話改變了我的想法...\"\n                ]\n            },\n            勵志: {\n                stories: [\n                    \"有一位運動員，在最困難的時刻，{主題}成為了他繼續前進的動力...\",\n                    \"一個創業者的故事告訴我們，{主題}是成功路上最重要的品質...\",\n                    \"當所有人都說不可能時，她用{主題}證明了奇蹟的存在...\"\n                ]\n            },\n            人生感悟: {\n                stories: [\n                    \"坐在咖啡廳裡，看著窗外的行人，我突然對{主題}有了新的理解...\",\n                    \"讀到一本書中關於{主題}的描述，我陷入了深深的思考...\",\n                    \"在人生的某個轉折點上，{主題}讓我重新審視了自己的價值觀...\"\n                ]\n            },\n            愛與溫暖: {\n                stories: [\n                    \"一個母親和孩子的故事，讓我明白了{主題}最純粹的樣子...\",\n                    \"在醫院裡，我看到了{主題}最真實、最感人的表現...\",\n                    \"一對老夫妻的日常生活，詮釋了{主題}最深刻的含義...\"\n                ]\n            }\n        };\n        \n        return elements[category] || elements.成長;\n    }\n\n    // 生成替代標題\n    generateAlternativeTitles(topic, category) {\n        const alternatives = [\n            `${topic}：每個人心中的那道光`,\n            `關於${topic}，我們都需要知道的事`,\n            `在${topic}中尋找人生的答案`,\n            `${topic}背後的深層意義`\n        ];\n        return alternatives.slice(0, 3);\n    }\n\n    // 獲取寫作技巧\n    getWritingTips(category) {\n        const tips = {\n            成長: [\n                '多使用具體的例子和故事來說明觀點',\n                '從讀者的角度出發，讓內容更有共鳴',\n                '結合個人經歷，讓文章更有真實感'\n            ],\n            勵志: [\n                '使用積極正面的詞彙和語調',\n                '設置明確的行動呼籲，激勵讀者採取行動',\n                '加入數據或成功案例增強說服力'\n            ],\n            人生感悟: [\n                '保持思考的深度，避免浮於表面',\n                '運用比喻和類比讓抽象概念更易理解',\n                '給讀者留下思考的空間'\n            ],\n            愛與溫暖: [\n                '注重情感的表達，讓文字有溫度',\n                '使用溫馨的故事和場景',\n                '營造親切友善的寫作風格'\n            ]\n        };\n        \n        return tips[category] || tips.成長;\n    }\n\n    // 獲取相關主題\n    getRelatedTopics(category) {\n        const related = {\n            成長: ['自我提升', '學習成長', '個人發展'],\n            勵志: ['正能量', '夢想追求', '堅持不懈'],\n            人生感悟: ['人生哲理', '生活智慧', '內心平靜'],\n            愛與溫暖: ['感恩', '友情', '家庭溫暖']\n        };\n        \n        return related[category] || related.成長;\n    }\n\n    // 格式化文章\n    formatArticle(article) {\n        if (!article) return '';\n        \n        let formatted = '';\n        \n        if (article.title) {\n            formatted += `# ${article.title}\\n\\n`;\n        }\n        \n        if (article.introduction) {\n            formatted += `${article.introduction}\\n\\n`;\n        }\n        \n        if (article.story) {\n            formatted += `${article.story}\\n\\n`;\n        }\n        \n        if (article.insights && Array.isArray(article.insights)) {\n            formatted += `## 人生感悟\\n\\n`;\n            article.insights.forEach(insight => {\n                formatted += `💭 ${insight}\\n\\n`;\n            });\n        }\n        \n        if (article.reflection) {\n            formatted += `## 深度思考\\n\\n${article.reflection}\\n\\n`;\n        }\n        \n        if (article.conclusion) {\n            formatted += `${article.conclusion}\\n\\n`;\n        }\n        \n        if (article.message) {\n            formatted += `**✨ ${article.message}**\\n`;\n        }\n        \n        return formatted;\n    }\n\n    // 計算字數\n    countWords(text) {\n        if (!text) return 0;\n        // 移除 markdown 標記和特殊字符，只計算中文字符數\n        const cleanText = text.replace(/[#*`\\-\\n\\r]/g, '').replace(/[a-zA-Z0-9\\s]/g, '');\n        return cleanText.length;\n    }\n\n    // 獲取模板\n    getTemplates(category) {\n        return {\n            category: category,\n            description: this.categories[category]\n        };\n    }\n}\n\n// 導出單例實例\nexport const articleService = new ArticleService();\nexport default ArticleService;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}