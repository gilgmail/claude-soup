{"ast":null,"code":"// src/services/aiService.js\n\nclass AIService {\n  constructor() {\n    // 模擬 AI API 配置\n    this.baseURL = 'https://api.openai.com/v1';\n    this.apiKey = process.env.REACT_APP_OPENAI_API_KEY || '';\n\n    // 預設的勵志主題庫\n    this.inspirationalThemes = {\n      success: {\n        keywords: ['成功', '成就', '目標', '夢想', '堅持', '努力'],\n        scenarios: ['創業故事', '運動員奮鬥', '學業成就', '職場晉升', '技能提升']\n      },\n      growth: {\n        keywords: ['成長', '學習', '進步', '改變', '突破', '蛻變'],\n        scenarios: ['個人發展', '技能學習', '心智成長', '克服困難', '自我提升']\n      },\n      courage: {\n        keywords: ['勇氣', '勇敢', '挑戰', '冒險', '決心', '無畏'],\n        scenarios: ['面對恐懼', '挑戰困難', '做出選擇', '承擔責任', '勇敢追夢']\n      }\n    };\n\n    // 金句模板庫\n    this.quoteTemplates = [\"成功不是{終點}，而是{過程}的累積\", \"每一次的{挫折}都是{成長}的機會\", \"真正的{力量}來自於{內心}的堅持\", \"當你{相信}自己時，{奇蹟}就會發生\", \"最大的{敵人}不是別人，而是{昨天的自己}\"];\n  }\n\n  // 模擬 AI 增強的腳本生成\n  async enhanceScript(quote, theme, tone) {\n    try {\n      // 模擬 API 延遲\n      await new Promise(resolve => setTimeout(resolve, 1000));\n      const enhancedContent = this.generateEnhancedContent(quote, theme, tone);\n      const suggestions = this.generateSuggestions(quote, theme);\n      const visualElements = this.generateVisualElements(theme);\n      return {\n        enhancedScript: enhancedContent,\n        suggestions: suggestions,\n        visualElements: visualElements,\n        confidence: Math.floor(Math.random() * 20) + 80,\n        // 80-100% 信心度\n        aiGenerated: true\n      };\n    } catch (error) {\n      console.error('AI 增強失敗:', error);\n      // 回退到基本功能\n      return this.fallbackEnhancement(quote, theme, tone);\n    }\n  }\n\n  // 生成增強內容\n  generateEnhancedContent(quote, theme, tone) {\n    const themeData = this.inspirationalThemes[theme];\n    const randomKeyword = themeData.keywords[Math.floor(Math.random() * themeData.keywords.length)];\n    const randomScenario = themeData.scenarios[Math.floor(Math.random() * themeData.scenarios.length)];\n    const enhancedSections = {\n      intro: this.generateEnhancedIntro(theme, randomKeyword),\n      story: this.generateEnhancedStory(quote, theme, randomScenario),\n      closing: this.generateEnhancedClosing(tone, randomKeyword),\n      scenes: this.generateEnhancedScenes(theme, randomScenario)\n    };\n    return enhancedSections;\n  }\n\n  // 生成增強版開場白\n  generateEnhancedIntro(theme, keyword) {\n    const intros = {\n      success: [`在追求${keyword}的路上，每個人都有屬於自己的故事...`, `${keyword}從來不是偶然，而是來自日復一日的堅持...`, `什麼是真正的${keyword}？讓我們從一個故事開始說起...`],\n      growth: [`${keyword}是生命中最美麗的過程，就像破繭而出的蝴蝶...`, `每一次的${keyword}都在告訴我們，改變是可能的...`, `在${keyword}的道路上，沒有終點，只有不斷的超越...`],\n      courage: [`${keyword}不是沒有恐懼，而是即使恐懼仍然前行...`, `真正的${keyword}來自於面對未知的決心...`, `${keyword}是一種選擇，選擇相信自己的力量...`]\n    };\n    const themeIntros = intros[theme] || intros.success;\n    return themeIntros[Math.floor(Math.random() * themeIntros.length)];\n  }\n\n  // 生成增強版故事\n  generateEnhancedStory(quote, theme, scenario) {\n    return `想像一下${scenario}中的主角，面對重重困難時的內心掙扎。${quote} 這句話不僅僅是文字，更是一種信念的力量。當我們真正理解並實踐這句話時，我們會發現內在的潛能被喚醒，原本看似不可能的事情變得觸手可及。這就是信念的力量，這就是${scenario}背後真正的意義。`;\n  }\n\n  // 生成增強版結尾\n  generateEnhancedClosing(tone, keyword) {\n    const closings = {\n      inspirational: [`現在就是開始的最佳時機，讓${keyword}成為你前進的動力。`, `每一天都是新的開始，每一步都在創造屬於你的${keyword}故事。`, `相信自己，相信${keyword}的力量，你的未來從現在開始改寫。`],\n      motivational: [`行動起來吧！讓${keyword}不再只是夢想，而是你生活的實踐。`, `現在就動手，現在就改變，${keyword}就在你的手中。`, `不要等待完美的時機，因為每一個當下都是創造${keyword}的最佳時刻。`],\n      reflective: [`回頭看看走過的路，${keyword}一直都在那裡，等待著你去發現。`, `靜下心來想想，${keyword}的種子早已在心中萌芽。`, `或許${keyword}的真諦就在於這種深度的思考與感悟。`]\n    };\n    const toneClosings = closings[tone] || closings.inspirational;\n    return toneClosings[Math.floor(Math.random() * toneClosings.length)];\n  }\n\n  // 生成增強版場景\n  generateEnhancedScenes(theme, scenario) {\n    const sceneTemplates = {\n      success: [\"日出時分，城市天際線的鳥瞰鏡頭，象徵新的開始\", \"人物在辦公室深夜工作的剪影，專注而堅定\", \"從失敗到成功的蒙太奇，展現努力的過程\", \"成功時刻的慶祝場面，但重點在眼中的堅定\"],\n      growth: [\"植物從種子到參天大樹的延時攝影\", \"人物學習新技能的過程片段\", \"從困難到突破的轉變時刻\", \"蝴蝶破繭而出的隱喻畫面\"],\n      courage: [\"人物站在懸崖邊，面對廣闊天空的背影\", \"在黑暗中點亮第一盞燈的瞬間\", \"決定性時刻的慢鏡頭特寫\", \"從恐懼到勇敢的眼神變化\"]\n    };\n    return sceneTemplates[theme] || sceneTemplates.success;\n  }\n\n  // 生成建議\n  generateSuggestions(quote, theme) {\n    return {\n      alternativeQuotes: this.generateAlternativeQuotes(quote, theme),\n      improvementTips: this.generateImprovementTips(theme),\n      relatedThemes: this.getRelatedThemes(theme)\n    };\n  }\n\n  // 生成替代金句\n  generateAlternativeQuotes(originalQuote, theme) {\n    const alternatives = [];\n    const themeData = this.inspirationalThemes[theme];\n    for (let i = 0; i < 3; i++) {\n      const template = this.quoteTemplates[Math.floor(Math.random() * this.quoteTemplates.length)];\n      const keywords = themeData.keywords;\n      let quote = template.replace(/\\{[^}]+\\}/g, match => {\n        return keywords[Math.floor(Math.random() * keywords.length)];\n      });\n      alternatives.push(quote);\n    }\n    return alternatives;\n  }\n\n  // 生成改進建議\n  generateImprovementTips(theme) {\n    const tips = {\n      success: [\"考慮添加具體的成功指標或里程碑\", \"可以融入失敗後重新站起的元素\", \"強調過程而非結果的重要性\"],\n      growth: [\"加入個人成長的具體例子\", \"可以對比過去和現在的改變\", \"強調學習和適應的重要性\"],\n      courage: [\"描述克服具體恐懼的情境\", \"可以加入支持和鼓勵的元素\", \"強調勇氣是可以培養的品質\"]\n    };\n    return tips[theme] || tips.success;\n  }\n\n  // 獲取相關主題\n  getRelatedThemes(currentTheme) {\n    const relationships = {\n      success: ['growth', 'courage'],\n      growth: ['success', 'courage'],\n      courage: ['success', 'growth']\n    };\n    return relationships[currentTheme] || [];\n  }\n\n  // 生成視覺元素建議\n  generateVisualElements(theme) {\n    const elements = {\n      success: {\n        colors: ['#FFD700', '#FF6B35', '#1E3A8A'],\n        fonts: ['現代感強的無襯線字體', '粗體標題字型'],\n        effects: ['金色光芒特效', '上升箭頭動畫', '光線追蹤效果']\n      },\n      growth: {\n        colors: ['#22C55E', '#84CC16', '#0EA5E9'],\n        fonts: ['自然有機感的字體', '手寫風格字型'],\n        effects: ['生長動畫', '漸變色過渡', '粒子效果']\n      },\n      courage: {\n        colors: ['#DC2626', '#F59E0B', '#7C3AED'],\n        fonts: ['力量感的粗體字', '英雄主義風格字型'],\n        effects: ['火焰特效', '閃電動畫', '光劍效果']\n      }\n    };\n    return elements[theme] || elements.success;\n  }\n\n  // 回退增強功能（當 AI API 不可用時）\n  fallbackEnhancement(quote, theme, tone) {\n    return {\n      enhancedScript: {\n        intro: `關於${theme}的思考...`,\n        story: `${quote} 這句話蕴含着深刻的智慧...`,\n        closing: \"讓我們一起踐行這個理念。\",\n        scenes: [\"基本場景描述\"]\n      },\n      suggestions: {\n        alternativeQuotes: [\"建議功能暫時不可用\"],\n        improvementTips: [\"請稍後重試\"],\n        relatedThemes: []\n      },\n      visualElements: {\n        colors: ['#333333'],\n        fonts: ['默認字體'],\n        effects: ['基本效果']\n      },\n      confidence: 60,\n      aiGenerated: false\n    };\n  }\n\n  // 生成智能金句建議\n  async generateSmartQuotes(theme, mood, length = 5) {\n    try {\n      await new Promise(resolve => setTimeout(resolve, 800));\n      const themeData = this.inspirationalThemes[theme];\n      const quotes = [];\n      for (let i = 0; i < length; i++) {\n        const template = this.quoteTemplates[Math.floor(Math.random() * this.quoteTemplates.length)];\n        const keywords = themeData.keywords;\n        let quote = template.replace(/\\{[^}]+\\}/g, () => {\n          return keywords[Math.floor(Math.random() * keywords.length)];\n        });\n        quotes.push({\n          text: quote,\n          theme: theme,\n          confidence: Math.floor(Math.random() * 20) + 80,\n          popularity: Math.floor(Math.random() * 100)\n        });\n      }\n      return quotes.sort((a, b) => b.confidence - a.confidence);\n    } catch (error) {\n      console.error('智能金句生成失敗:', error);\n      return [];\n    }\n  }\n\n  // 分析使用者輸入的金句\n  async analyzeQuote(quote) {\n    try {\n      await new Promise(resolve => setTimeout(resolve, 600));\n      const analysis = {\n        sentiment: this.analyzeSentiment(quote),\n        themes: this.detectThemes(quote),\n        emotionalImpact: Math.floor(Math.random() * 30) + 70,\n        suggestions: this.getQuoteImprovementSuggestions(quote),\n        keywords: this.extractKeywords(quote)\n      };\n      return analysis;\n    } catch (error) {\n      console.error('金句分析失敗:', error);\n      return null;\n    }\n  }\n\n  // 情感分析\n  analyzeSentiment(quote) {\n    const positiveWords = ['成功', '成長', '勇氣', '希望', '夢想', '堅持', '努力', '相信'];\n    const negativeWords = ['失敗', '困難', '挫折', '恐懼'];\n    let positive = 0;\n    let negative = 0;\n    positiveWords.forEach(word => {\n      if (quote.includes(word)) positive++;\n    });\n    negativeWords.forEach(word => {\n      if (quote.includes(word)) negative++;\n    });\n    if (positive > negative) return 'positive';\n    if (negative > positive) return 'negative';\n    return 'neutral';\n  }\n\n  // 檢測主題\n  detectThemes(quote) {\n    const themes = [];\n    Object.keys(this.inspirationalThemes).forEach(theme => {\n      const keywords = this.inspirationalThemes[theme].keywords;\n      const matches = keywords.filter(keyword => quote.includes(keyword));\n      if (matches.length > 0) {\n        themes.push({\n          theme: theme,\n          confidence: matches.length / keywords.length * 100,\n          matchedKeywords: matches\n        });\n      }\n    });\n    return themes.sort((a, b) => b.confidence - a.confidence);\n  }\n\n  // 提取關鍵詞\n  extractKeywords(quote) {\n    const allKeywords = Object.values(this.inspirationalThemes).flatMap(theme => theme.keywords);\n    return allKeywords.filter(keyword => quote.includes(keyword));\n  }\n\n  // 獲取金句改進建議\n  getQuoteImprovementSuggestions(quote) {\n    const suggestions = [];\n    if (quote.length < 10) {\n      suggestions.push(\"金句可以更具體一些，增加更多細節\");\n    }\n    if (quote.length > 50) {\n      suggestions.push(\"金句可以更簡潔，突出核心訊息\");\n    }\n    if (!quote.includes('你') && !quote.includes('我')) {\n      suggestions.push(\"可以加入人稱代詞，讓金句更有親和力\");\n    }\n    const keywords = this.extractKeywords(quote);\n    if (keywords.length === 0) {\n      suggestions.push(\"可以加入更多勵志關鍵詞，增強激勵效果\");\n    }\n    return suggestions;\n  }\n}\n\n// 導出單例實例\nexport const aiService = new AIService();\nexport default AIService;","map":{"version":3,"names":["AIService","constructor","baseURL","apiKey","process","env","REACT_APP_OPENAI_API_KEY","inspirationalThemes","success","keywords","scenarios","growth","courage","quoteTemplates","enhanceScript","quote","theme","tone","Promise","resolve","setTimeout","enhancedContent","generateEnhancedContent","suggestions","generateSuggestions","visualElements","generateVisualElements","enhancedScript","confidence","Math","floor","random","aiGenerated","error","console","fallbackEnhancement","themeData","randomKeyword","length","randomScenario","enhancedSections","intro","generateEnhancedIntro","story","generateEnhancedStory","closing","generateEnhancedClosing","scenes","generateEnhancedScenes","keyword","intros","themeIntros","scenario","closings","inspirational","motivational","reflective","toneClosings","sceneTemplates","alternativeQuotes","generateAlternativeQuotes","improvementTips","generateImprovementTips","relatedThemes","getRelatedThemes","originalQuote","alternatives","i","template","replace","match","push","tips","currentTheme","relationships","elements","colors","fonts","effects","generateSmartQuotes","mood","quotes","text","popularity","sort","a","b","analyzeQuote","analysis","sentiment","analyzeSentiment","themes","detectThemes","emotionalImpact","getQuoteImprovementSuggestions","extractKeywords","positiveWords","negativeWords","positive","negative","forEach","word","includes","Object","keys","matches","filter","matchedKeywords","allKeywords","values","flatMap","aiService"],"sources":["/Users/gilko/Documents/claude-code/soup2/motivation-script-generator/src/services/aiService.js"],"sourcesContent":["// src/services/aiService.js\n\nclass AIService {\n    constructor() {\n        // 模擬 AI API 配置\n        this.baseURL = 'https://api.openai.com/v1';\n        this.apiKey = process.env.REACT_APP_OPENAI_API_KEY || '';\n        \n        // 預設的勵志主題庫\n        this.inspirationalThemes = {\n            success: {\n                keywords: ['成功', '成就', '目標', '夢想', '堅持', '努力'],\n                scenarios: ['創業故事', '運動員奮鬥', '學業成就', '職場晉升', '技能提升']\n            },\n            growth: {\n                keywords: ['成長', '學習', '進步', '改變', '突破', '蛻變'],\n                scenarios: ['個人發展', '技能學習', '心智成長', '克服困難', '自我提升']\n            },\n            courage: {\n                keywords: ['勇氣', '勇敢', '挑戰', '冒險', '決心', '無畏'],\n                scenarios: ['面對恐懼', '挑戰困難', '做出選擇', '承擔責任', '勇敢追夢']\n            }\n        };\n        \n        // 金句模板庫\n        this.quoteTemplates = [\n            \"成功不是{終點}，而是{過程}的累積\",\n            \"每一次的{挫折}都是{成長}的機會\",\n            \"真正的{力量}來自於{內心}的堅持\",\n            \"當你{相信}自己時，{奇蹟}就會發生\",\n            \"最大的{敵人}不是別人，而是{昨天的自己}\"\n        ];\n    }\n\n    // 模擬 AI 增強的腳本生成\n    async enhanceScript(quote, theme, tone) {\n        try {\n            // 模擬 API 延遲\n            await new Promise(resolve => setTimeout(resolve, 1000));\n            \n            const enhancedContent = this.generateEnhancedContent(quote, theme, tone);\n            const suggestions = this.generateSuggestions(quote, theme);\n            const visualElements = this.generateVisualElements(theme);\n            \n            return {\n                enhancedScript: enhancedContent,\n                suggestions: suggestions,\n                visualElements: visualElements,\n                confidence: Math.floor(Math.random() * 20) + 80, // 80-100% 信心度\n                aiGenerated: true\n            };\n            \n        } catch (error) {\n            console.error('AI 增強失敗:', error);\n            // 回退到基本功能\n            return this.fallbackEnhancement(quote, theme, tone);\n        }\n    }\n\n    // 生成增強內容\n    generateEnhancedContent(quote, theme, tone) {\n        const themeData = this.inspirationalThemes[theme];\n        const randomKeyword = themeData.keywords[Math.floor(Math.random() * themeData.keywords.length)];\n        const randomScenario = themeData.scenarios[Math.floor(Math.random() * themeData.scenarios.length)];\n        \n        const enhancedSections = {\n            intro: this.generateEnhancedIntro(theme, randomKeyword),\n            story: this.generateEnhancedStory(quote, theme, randomScenario),\n            closing: this.generateEnhancedClosing(tone, randomKeyword),\n            scenes: this.generateEnhancedScenes(theme, randomScenario)\n        };\n        \n        return enhancedSections;\n    }\n\n    // 生成增強版開場白\n    generateEnhancedIntro(theme, keyword) {\n        const intros = {\n            success: [\n                `在追求${keyword}的路上，每個人都有屬於自己的故事...`,\n                `${keyword}從來不是偶然，而是來自日復一日的堅持...`,\n                `什麼是真正的${keyword}？讓我們從一個故事開始說起...`\n            ],\n            growth: [\n                `${keyword}是生命中最美麗的過程，就像破繭而出的蝴蝶...`,\n                `每一次的${keyword}都在告訴我們，改變是可能的...`,\n                `在${keyword}的道路上，沒有終點，只有不斷的超越...`\n            ],\n            courage: [\n                `${keyword}不是沒有恐懼，而是即使恐懼仍然前行...`,\n                `真正的${keyword}來自於面對未知的決心...`,\n                `${keyword}是一種選擇，選擇相信自己的力量...`\n            ]\n        };\n        \n        const themeIntros = intros[theme] || intros.success;\n        return themeIntros[Math.floor(Math.random() * themeIntros.length)];\n    }\n\n    // 生成增強版故事\n    generateEnhancedStory(quote, theme, scenario) {\n        return `想像一下${scenario}中的主角，面對重重困難時的內心掙扎。${quote} 這句話不僅僅是文字，更是一種信念的力量。當我們真正理解並實踐這句話時，我們會發現內在的潛能被喚醒，原本看似不可能的事情變得觸手可及。這就是信念的力量，這就是${scenario}背後真正的意義。`;\n    }\n\n    // 生成增強版結尾\n    generateEnhancedClosing(tone, keyword) {\n        const closings = {\n            inspirational: [\n                `現在就是開始的最佳時機，讓${keyword}成為你前進的動力。`,\n                `每一天都是新的開始，每一步都在創造屬於你的${keyword}故事。`,\n                `相信自己，相信${keyword}的力量，你的未來從現在開始改寫。`\n            ],\n            motivational: [\n                `行動起來吧！讓${keyword}不再只是夢想，而是你生活的實踐。`,\n                `現在就動手，現在就改變，${keyword}就在你的手中。`,\n                `不要等待完美的時機，因為每一個當下都是創造${keyword}的最佳時刻。`\n            ],\n            reflective: [\n                `回頭看看走過的路，${keyword}一直都在那裡，等待著你去發現。`,\n                `靜下心來想想，${keyword}的種子早已在心中萌芽。`,\n                `或許${keyword}的真諦就在於這種深度的思考與感悟。`\n            ]\n        };\n        \n        const toneClosings = closings[tone] || closings.inspirational;\n        return toneClosings[Math.floor(Math.random() * toneClosings.length)];\n    }\n\n    // 生成增強版場景\n    generateEnhancedScenes(theme, scenario) {\n        const sceneTemplates = {\n            success: [\n                \"日出時分，城市天際線的鳥瞰鏡頭，象徵新的開始\",\n                \"人物在辦公室深夜工作的剪影，專注而堅定\",\n                \"從失敗到成功的蒙太奇，展現努力的過程\",\n                \"成功時刻的慶祝場面，但重點在眼中的堅定\"\n            ],\n            growth: [\n                \"植物從種子到參天大樹的延時攝影\",\n                \"人物學習新技能的過程片段\",\n                \"從困難到突破的轉變時刻\",\n                \"蝴蝶破繭而出的隱喻畫面\"\n            ],\n            courage: [\n                \"人物站在懸崖邊，面對廣闊天空的背影\",\n                \"在黑暗中點亮第一盞燈的瞬間\",\n                \"決定性時刻的慢鏡頭特寫\",\n                \"從恐懼到勇敢的眼神變化\"\n            ]\n        };\n        \n        return sceneTemplates[theme] || sceneTemplates.success;\n    }\n\n    // 生成建議\n    generateSuggestions(quote, theme) {\n        return {\n            alternativeQuotes: this.generateAlternativeQuotes(quote, theme),\n            improvementTips: this.generateImprovementTips(theme),\n            relatedThemes: this.getRelatedThemes(theme)\n        };\n    }\n\n    // 生成替代金句\n    generateAlternativeQuotes(originalQuote, theme) {\n        const alternatives = [];\n        const themeData = this.inspirationalThemes[theme];\n        \n        for (let i = 0; i < 3; i++) {\n            const template = this.quoteTemplates[Math.floor(Math.random() * this.quoteTemplates.length)];\n            const keywords = themeData.keywords;\n            \n            let quote = template.replace(/\\{[^}]+\\}/g, (match) => {\n                return keywords[Math.floor(Math.random() * keywords.length)];\n            });\n            \n            alternatives.push(quote);\n        }\n        \n        return alternatives;\n    }\n\n    // 生成改進建議\n    generateImprovementTips(theme) {\n        const tips = {\n            success: [\n                \"考慮添加具體的成功指標或里程碑\",\n                \"可以融入失敗後重新站起的元素\",\n                \"強調過程而非結果的重要性\"\n            ],\n            growth: [\n                \"加入個人成長的具體例子\",\n                \"可以對比過去和現在的改變\",\n                \"強調學習和適應的重要性\"\n            ],\n            courage: [\n                \"描述克服具體恐懼的情境\",\n                \"可以加入支持和鼓勵的元素\",\n                \"強調勇氣是可以培養的品質\"\n            ]\n        };\n        \n        return tips[theme] || tips.success;\n    }\n\n    // 獲取相關主題\n    getRelatedThemes(currentTheme) {\n        const relationships = {\n            success: ['growth', 'courage'],\n            growth: ['success', 'courage'],\n            courage: ['success', 'growth']\n        };\n        \n        return relationships[currentTheme] || [];\n    }\n\n    // 生成視覺元素建議\n    generateVisualElements(theme) {\n        const elements = {\n            success: {\n                colors: ['#FFD700', '#FF6B35', '#1E3A8A'],\n                fonts: ['現代感強的無襯線字體', '粗體標題字型'],\n                effects: ['金色光芒特效', '上升箭頭動畫', '光線追蹤效果']\n            },\n            growth: {\n                colors: ['#22C55E', '#84CC16', '#0EA5E9'],\n                fonts: ['自然有機感的字體', '手寫風格字型'],\n                effects: ['生長動畫', '漸變色過渡', '粒子效果']\n            },\n            courage: {\n                colors: ['#DC2626', '#F59E0B', '#7C3AED'],\n                fonts: ['力量感的粗體字', '英雄主義風格字型'],\n                effects: ['火焰特效', '閃電動畫', '光劍效果']\n            }\n        };\n        \n        return elements[theme] || elements.success;\n    }\n\n    // 回退增強功能（當 AI API 不可用時）\n    fallbackEnhancement(quote, theme, tone) {\n        return {\n            enhancedScript: {\n                intro: `關於${theme}的思考...`,\n                story: `${quote} 這句話蕴含着深刻的智慧...`,\n                closing: \"讓我們一起踐行這個理念。\",\n                scenes: [\"基本場景描述\"]\n            },\n            suggestions: {\n                alternativeQuotes: [\"建議功能暫時不可用\"],\n                improvementTips: [\"請稍後重試\"],\n                relatedThemes: []\n            },\n            visualElements: {\n                colors: ['#333333'],\n                fonts: ['默認字體'],\n                effects: ['基本效果']\n            },\n            confidence: 60,\n            aiGenerated: false\n        };\n    }\n\n    // 生成智能金句建議\n    async generateSmartQuotes(theme, mood, length = 5) {\n        try {\n            await new Promise(resolve => setTimeout(resolve, 800));\n            \n            const themeData = this.inspirationalThemes[theme];\n            const quotes = [];\n            \n            for (let i = 0; i < length; i++) {\n                const template = this.quoteTemplates[Math.floor(Math.random() * this.quoteTemplates.length)];\n                const keywords = themeData.keywords;\n                \n                let quote = template.replace(/\\{[^}]+\\}/g, () => {\n                    return keywords[Math.floor(Math.random() * keywords.length)];\n                });\n                \n                quotes.push({\n                    text: quote,\n                    theme: theme,\n                    confidence: Math.floor(Math.random() * 20) + 80,\n                    popularity: Math.floor(Math.random() * 100)\n                });\n            }\n            \n            return quotes.sort((a, b) => b.confidence - a.confidence);\n            \n        } catch (error) {\n            console.error('智能金句生成失敗:', error);\n            return [];\n        }\n    }\n\n    // 分析使用者輸入的金句\n    async analyzeQuote(quote) {\n        try {\n            await new Promise(resolve => setTimeout(resolve, 600));\n            \n            const analysis = {\n                sentiment: this.analyzeSentiment(quote),\n                themes: this.detectThemes(quote),\n                emotionalImpact: Math.floor(Math.random() * 30) + 70,\n                suggestions: this.getQuoteImprovementSuggestions(quote),\n                keywords: this.extractKeywords(quote)\n            };\n            \n            return analysis;\n            \n        } catch (error) {\n            console.error('金句分析失敗:', error);\n            return null;\n        }\n    }\n\n    // 情感分析\n    analyzeSentiment(quote) {\n        const positiveWords = ['成功', '成長', '勇氣', '希望', '夢想', '堅持', '努力', '相信'];\n        const negativeWords = ['失敗', '困難', '挫折', '恐懼'];\n        \n        let positive = 0;\n        let negative = 0;\n        \n        positiveWords.forEach(word => {\n            if (quote.includes(word)) positive++;\n        });\n        \n        negativeWords.forEach(word => {\n            if (quote.includes(word)) negative++;\n        });\n        \n        if (positive > negative) return 'positive';\n        if (negative > positive) return 'negative';\n        return 'neutral';\n    }\n\n    // 檢測主題\n    detectThemes(quote) {\n        const themes = [];\n        \n        Object.keys(this.inspirationalThemes).forEach(theme => {\n            const keywords = this.inspirationalThemes[theme].keywords;\n            const matches = keywords.filter(keyword => quote.includes(keyword));\n            \n            if (matches.length > 0) {\n                themes.push({\n                    theme: theme,\n                    confidence: (matches.length / keywords.length) * 100,\n                    matchedKeywords: matches\n                });\n            }\n        });\n        \n        return themes.sort((a, b) => b.confidence - a.confidence);\n    }\n\n    // 提取關鍵詞\n    extractKeywords(quote) {\n        const allKeywords = Object.values(this.inspirationalThemes)\n            .flatMap(theme => theme.keywords);\n        \n        return allKeywords.filter(keyword => quote.includes(keyword));\n    }\n\n    // 獲取金句改進建議\n    getQuoteImprovementSuggestions(quote) {\n        const suggestions = [];\n        \n        if (quote.length < 10) {\n            suggestions.push(\"金句可以更具體一些，增加更多細節\");\n        }\n        \n        if (quote.length > 50) {\n            suggestions.push(\"金句可以更簡潔，突出核心訊息\");\n        }\n        \n        if (!quote.includes('你') && !quote.includes('我')) {\n            suggestions.push(\"可以加入人稱代詞，讓金句更有親和力\");\n        }\n        \n        const keywords = this.extractKeywords(quote);\n        if (keywords.length === 0) {\n            suggestions.push(\"可以加入更多勵志關鍵詞，增強激勵效果\");\n        }\n        \n        return suggestions;\n    }\n}\n\n// 導出單例實例\nexport const aiService = new AIService();\nexport default AIService;"],"mappings":"AAAA;;AAEA,MAAMA,SAAS,CAAC;EACZC,WAAWA,CAAA,EAAG;IACV;IACA,IAAI,CAACC,OAAO,GAAG,2BAA2B;IAC1C,IAAI,CAACC,MAAM,GAAGC,OAAO,CAACC,GAAG,CAACC,wBAAwB,IAAI,EAAE;;IAExD;IACA,IAAI,CAACC,mBAAmB,GAAG;MACvBC,OAAO,EAAE;QACLC,QAAQ,EAAE,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC;QAC9CC,SAAS,EAAE,CAAC,MAAM,EAAE,OAAO,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM;MACvD,CAAC;MACDC,MAAM,EAAE;QACJF,QAAQ,EAAE,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC;QAC9CC,SAAS,EAAE,CAAC,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM;MACtD,CAAC;MACDE,OAAO,EAAE;QACLH,QAAQ,EAAE,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC;QAC9CC,SAAS,EAAE,CAAC,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM;MACtD;IACJ,CAAC;;IAED;IACA,IAAI,CAACG,cAAc,GAAG,CAClB,oBAAoB,EACpB,mBAAmB,EACnB,mBAAmB,EACnB,oBAAoB,EACpB,uBAAuB,CAC1B;EACL;;EAEA;EACA,MAAMC,aAAaA,CAACC,KAAK,EAAEC,KAAK,EAAEC,IAAI,EAAE;IACpC,IAAI;MACA;MACA,MAAM,IAAIC,OAAO,CAACC,OAAO,IAAIC,UAAU,CAACD,OAAO,EAAE,IAAI,CAAC,CAAC;MAEvD,MAAME,eAAe,GAAG,IAAI,CAACC,uBAAuB,CAACP,KAAK,EAAEC,KAAK,EAAEC,IAAI,CAAC;MACxE,MAAMM,WAAW,GAAG,IAAI,CAACC,mBAAmB,CAACT,KAAK,EAAEC,KAAK,CAAC;MAC1D,MAAMS,cAAc,GAAG,IAAI,CAACC,sBAAsB,CAACV,KAAK,CAAC;MAEzD,OAAO;QACHW,cAAc,EAAEN,eAAe;QAC/BE,WAAW,EAAEA,WAAW;QACxBE,cAAc,EAAEA,cAAc;QAC9BG,UAAU,EAAEC,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,CAAC,CAAC,GAAG,EAAE,CAAC,GAAG,EAAE;QAAE;QACjDC,WAAW,EAAE;MACjB,CAAC;IAEL,CAAC,CAAC,OAAOC,KAAK,EAAE;MACZC,OAAO,CAACD,KAAK,CAAC,UAAU,EAAEA,KAAK,CAAC;MAChC;MACA,OAAO,IAAI,CAACE,mBAAmB,CAACpB,KAAK,EAAEC,KAAK,EAAEC,IAAI,CAAC;IACvD;EACJ;;EAEA;EACAK,uBAAuBA,CAACP,KAAK,EAAEC,KAAK,EAAEC,IAAI,EAAE;IACxC,MAAMmB,SAAS,GAAG,IAAI,CAAC7B,mBAAmB,CAACS,KAAK,CAAC;IACjD,MAAMqB,aAAa,GAAGD,SAAS,CAAC3B,QAAQ,CAACoB,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,CAAC,CAAC,GAAGK,SAAS,CAAC3B,QAAQ,CAAC6B,MAAM,CAAC,CAAC;IAC/F,MAAMC,cAAc,GAAGH,SAAS,CAAC1B,SAAS,CAACmB,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,CAAC,CAAC,GAAGK,SAAS,CAAC1B,SAAS,CAAC4B,MAAM,CAAC,CAAC;IAElG,MAAME,gBAAgB,GAAG;MACrBC,KAAK,EAAE,IAAI,CAACC,qBAAqB,CAAC1B,KAAK,EAAEqB,aAAa,CAAC;MACvDM,KAAK,EAAE,IAAI,CAACC,qBAAqB,CAAC7B,KAAK,EAAEC,KAAK,EAAEuB,cAAc,CAAC;MAC/DM,OAAO,EAAE,IAAI,CAACC,uBAAuB,CAAC7B,IAAI,EAAEoB,aAAa,CAAC;MAC1DU,MAAM,EAAE,IAAI,CAACC,sBAAsB,CAAChC,KAAK,EAAEuB,cAAc;IAC7D,CAAC;IAED,OAAOC,gBAAgB;EAC3B;;EAEA;EACAE,qBAAqBA,CAAC1B,KAAK,EAAEiC,OAAO,EAAE;IAClC,MAAMC,MAAM,GAAG;MACX1C,OAAO,EAAE,CACL,MAAMyC,OAAO,qBAAqB,EAClC,GAAGA,OAAO,uBAAuB,EACjC,SAASA,OAAO,kBAAkB,CACrC;MACDtC,MAAM,EAAE,CACJ,GAAGsC,OAAO,yBAAyB,EACnC,OAAOA,OAAO,kBAAkB,EAChC,IAAIA,OAAO,sBAAsB,CACpC;MACDrC,OAAO,EAAE,CACL,GAAGqC,OAAO,sBAAsB,EAChC,MAAMA,OAAO,eAAe,EAC5B,GAAGA,OAAO,oBAAoB;IAEtC,CAAC;IAED,MAAME,WAAW,GAAGD,MAAM,CAAClC,KAAK,CAAC,IAAIkC,MAAM,CAAC1C,OAAO;IACnD,OAAO2C,WAAW,CAACtB,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,CAAC,CAAC,GAAGoB,WAAW,CAACb,MAAM,CAAC,CAAC;EACtE;;EAEA;EACAM,qBAAqBA,CAAC7B,KAAK,EAAEC,KAAK,EAAEoC,QAAQ,EAAE;IAC1C,OAAO,OAAOA,QAAQ,qBAAqBrC,KAAK,kFAAkFqC,QAAQ,UAAU;EACxJ;;EAEA;EACAN,uBAAuBA,CAAC7B,IAAI,EAAEgC,OAAO,EAAE;IACnC,MAAMI,QAAQ,GAAG;MACbC,aAAa,EAAE,CACX,gBAAgBL,OAAO,WAAW,EAClC,wBAAwBA,OAAO,KAAK,EACpC,UAAUA,OAAO,kBAAkB,CACtC;MACDM,YAAY,EAAE,CACV,UAAUN,OAAO,kBAAkB,EACnC,eAAeA,OAAO,SAAS,EAC/B,wBAAwBA,OAAO,QAAQ,CAC1C;MACDO,UAAU,EAAE,CACR,YAAYP,OAAO,iBAAiB,EACpC,UAAUA,OAAO,aAAa,EAC9B,KAAKA,OAAO,mBAAmB;IAEvC,CAAC;IAED,MAAMQ,YAAY,GAAGJ,QAAQ,CAACpC,IAAI,CAAC,IAAIoC,QAAQ,CAACC,aAAa;IAC7D,OAAOG,YAAY,CAAC5B,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,CAAC,CAAC,GAAG0B,YAAY,CAACnB,MAAM,CAAC,CAAC;EACxE;;EAEA;EACAU,sBAAsBA,CAAChC,KAAK,EAAEoC,QAAQ,EAAE;IACpC,MAAMM,cAAc,GAAG;MACnBlD,OAAO,EAAE,CACL,wBAAwB,EACxB,qBAAqB,EACrB,oBAAoB,EACpB,qBAAqB,CACxB;MACDG,MAAM,EAAE,CACJ,iBAAiB,EACjB,cAAc,EACd,aAAa,EACb,aAAa,CAChB;MACDC,OAAO,EAAE,CACL,mBAAmB,EACnB,eAAe,EACf,aAAa,EACb,aAAa;IAErB,CAAC;IAED,OAAO8C,cAAc,CAAC1C,KAAK,CAAC,IAAI0C,cAAc,CAAClD,OAAO;EAC1D;;EAEA;EACAgB,mBAAmBA,CAACT,KAAK,EAAEC,KAAK,EAAE;IAC9B,OAAO;MACH2C,iBAAiB,EAAE,IAAI,CAACC,yBAAyB,CAAC7C,KAAK,EAAEC,KAAK,CAAC;MAC/D6C,eAAe,EAAE,IAAI,CAACC,uBAAuB,CAAC9C,KAAK,CAAC;MACpD+C,aAAa,EAAE,IAAI,CAACC,gBAAgB,CAAChD,KAAK;IAC9C,CAAC;EACL;;EAEA;EACA4C,yBAAyBA,CAACK,aAAa,EAAEjD,KAAK,EAAE;IAC5C,MAAMkD,YAAY,GAAG,EAAE;IACvB,MAAM9B,SAAS,GAAG,IAAI,CAAC7B,mBAAmB,CAACS,KAAK,CAAC;IAEjD,KAAK,IAAImD,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,CAAC,EAAEA,CAAC,EAAE,EAAE;MACxB,MAAMC,QAAQ,GAAG,IAAI,CAACvD,cAAc,CAACgB,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,CAAC,CAAC,GAAG,IAAI,CAAClB,cAAc,CAACyB,MAAM,CAAC,CAAC;MAC5F,MAAM7B,QAAQ,GAAG2B,SAAS,CAAC3B,QAAQ;MAEnC,IAAIM,KAAK,GAAGqD,QAAQ,CAACC,OAAO,CAAC,YAAY,EAAGC,KAAK,IAAK;QAClD,OAAO7D,QAAQ,CAACoB,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,CAAC,CAAC,GAAGtB,QAAQ,CAAC6B,MAAM,CAAC,CAAC;MAChE,CAAC,CAAC;MAEF4B,YAAY,CAACK,IAAI,CAACxD,KAAK,CAAC;IAC5B;IAEA,OAAOmD,YAAY;EACvB;;EAEA;EACAJ,uBAAuBA,CAAC9C,KAAK,EAAE;IAC3B,MAAMwD,IAAI,GAAG;MACThE,OAAO,EAAE,CACL,iBAAiB,EACjB,gBAAgB,EAChB,cAAc,CACjB;MACDG,MAAM,EAAE,CACJ,aAAa,EACb,cAAc,EACd,aAAa,CAChB;MACDC,OAAO,EAAE,CACL,aAAa,EACb,cAAc,EACd,cAAc;IAEtB,CAAC;IAED,OAAO4D,IAAI,CAACxD,KAAK,CAAC,IAAIwD,IAAI,CAAChE,OAAO;EACtC;;EAEA;EACAwD,gBAAgBA,CAACS,YAAY,EAAE;IAC3B,MAAMC,aAAa,GAAG;MAClBlE,OAAO,EAAE,CAAC,QAAQ,EAAE,SAAS,CAAC;MAC9BG,MAAM,EAAE,CAAC,SAAS,EAAE,SAAS,CAAC;MAC9BC,OAAO,EAAE,CAAC,SAAS,EAAE,QAAQ;IACjC,CAAC;IAED,OAAO8D,aAAa,CAACD,YAAY,CAAC,IAAI,EAAE;EAC5C;;EAEA;EACA/C,sBAAsBA,CAACV,KAAK,EAAE;IAC1B,MAAM2D,QAAQ,GAAG;MACbnE,OAAO,EAAE;QACLoE,MAAM,EAAE,CAAC,SAAS,EAAE,SAAS,EAAE,SAAS,CAAC;QACzCC,KAAK,EAAE,CAAC,YAAY,EAAE,QAAQ,CAAC;QAC/BC,OAAO,EAAE,CAAC,QAAQ,EAAE,QAAQ,EAAE,QAAQ;MAC1C,CAAC;MACDnE,MAAM,EAAE;QACJiE,MAAM,EAAE,CAAC,SAAS,EAAE,SAAS,EAAE,SAAS,CAAC;QACzCC,KAAK,EAAE,CAAC,UAAU,EAAE,QAAQ,CAAC;QAC7BC,OAAO,EAAE,CAAC,MAAM,EAAE,OAAO,EAAE,MAAM;MACrC,CAAC;MACDlE,OAAO,EAAE;QACLgE,MAAM,EAAE,CAAC,SAAS,EAAE,SAAS,EAAE,SAAS,CAAC;QACzCC,KAAK,EAAE,CAAC,SAAS,EAAE,UAAU,CAAC;QAC9BC,OAAO,EAAE,CAAC,MAAM,EAAE,MAAM,EAAE,MAAM;MACpC;IACJ,CAAC;IAED,OAAOH,QAAQ,CAAC3D,KAAK,CAAC,IAAI2D,QAAQ,CAACnE,OAAO;EAC9C;;EAEA;EACA2B,mBAAmBA,CAACpB,KAAK,EAAEC,KAAK,EAAEC,IAAI,EAAE;IACpC,OAAO;MACHU,cAAc,EAAE;QACZc,KAAK,EAAE,KAAKzB,KAAK,QAAQ;QACzB2B,KAAK,EAAE,GAAG5B,KAAK,iBAAiB;QAChC8B,OAAO,EAAE,cAAc;QACvBE,MAAM,EAAE,CAAC,QAAQ;MACrB,CAAC;MACDxB,WAAW,EAAE;QACToC,iBAAiB,EAAE,CAAC,WAAW,CAAC;QAChCE,eAAe,EAAE,CAAC,OAAO,CAAC;QAC1BE,aAAa,EAAE;MACnB,CAAC;MACDtC,cAAc,EAAE;QACZmD,MAAM,EAAE,CAAC,SAAS,CAAC;QACnBC,KAAK,EAAE,CAAC,MAAM,CAAC;QACfC,OAAO,EAAE,CAAC,MAAM;MACpB,CAAC;MACDlD,UAAU,EAAE,EAAE;MACdI,WAAW,EAAE;IACjB,CAAC;EACL;;EAEA;EACA,MAAM+C,mBAAmBA,CAAC/D,KAAK,EAAEgE,IAAI,EAAE1C,MAAM,GAAG,CAAC,EAAE;IAC/C,IAAI;MACA,MAAM,IAAIpB,OAAO,CAACC,OAAO,IAAIC,UAAU,CAACD,OAAO,EAAE,GAAG,CAAC,CAAC;MAEtD,MAAMiB,SAAS,GAAG,IAAI,CAAC7B,mBAAmB,CAACS,KAAK,CAAC;MACjD,MAAMiE,MAAM,GAAG,EAAE;MAEjB,KAAK,IAAId,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG7B,MAAM,EAAE6B,CAAC,EAAE,EAAE;QAC7B,MAAMC,QAAQ,GAAG,IAAI,CAACvD,cAAc,CAACgB,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,CAAC,CAAC,GAAG,IAAI,CAAClB,cAAc,CAACyB,MAAM,CAAC,CAAC;QAC5F,MAAM7B,QAAQ,GAAG2B,SAAS,CAAC3B,QAAQ;QAEnC,IAAIM,KAAK,GAAGqD,QAAQ,CAACC,OAAO,CAAC,YAAY,EAAE,MAAM;UAC7C,OAAO5D,QAAQ,CAACoB,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,CAAC,CAAC,GAAGtB,QAAQ,CAAC6B,MAAM,CAAC,CAAC;QAChE,CAAC,CAAC;QAEF2C,MAAM,CAACV,IAAI,CAAC;UACRW,IAAI,EAAEnE,KAAK;UACXC,KAAK,EAAEA,KAAK;UACZY,UAAU,EAAEC,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,CAAC,CAAC,GAAG,EAAE,CAAC,GAAG,EAAE;UAC/CoD,UAAU,EAAEtD,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,CAAC,CAAC,GAAG,GAAG;QAC9C,CAAC,CAAC;MACN;MAEA,OAAOkD,MAAM,CAACG,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAKA,CAAC,CAAC1D,UAAU,GAAGyD,CAAC,CAACzD,UAAU,CAAC;IAE7D,CAAC,CAAC,OAAOK,KAAK,EAAE;MACZC,OAAO,CAACD,KAAK,CAAC,WAAW,EAAEA,KAAK,CAAC;MACjC,OAAO,EAAE;IACb;EACJ;;EAEA;EACA,MAAMsD,YAAYA,CAACxE,KAAK,EAAE;IACtB,IAAI;MACA,MAAM,IAAIG,OAAO,CAACC,OAAO,IAAIC,UAAU,CAACD,OAAO,EAAE,GAAG,CAAC,CAAC;MAEtD,MAAMqE,QAAQ,GAAG;QACbC,SAAS,EAAE,IAAI,CAACC,gBAAgB,CAAC3E,KAAK,CAAC;QACvC4E,MAAM,EAAE,IAAI,CAACC,YAAY,CAAC7E,KAAK,CAAC;QAChC8E,eAAe,EAAEhE,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,CAAC,CAAC,GAAG,EAAE,CAAC,GAAG,EAAE;QACpDR,WAAW,EAAE,IAAI,CAACuE,8BAA8B,CAAC/E,KAAK,CAAC;QACvDN,QAAQ,EAAE,IAAI,CAACsF,eAAe,CAAChF,KAAK;MACxC,CAAC;MAED,OAAOyE,QAAQ;IAEnB,CAAC,CAAC,OAAOvD,KAAK,EAAE;MACZC,OAAO,CAACD,KAAK,CAAC,SAAS,EAAEA,KAAK,CAAC;MAC/B,OAAO,IAAI;IACf;EACJ;;EAEA;EACAyD,gBAAgBA,CAAC3E,KAAK,EAAE;IACpB,MAAMiF,aAAa,GAAG,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC;IACtE,MAAMC,aAAa,GAAG,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC;IAE9C,IAAIC,QAAQ,GAAG,CAAC;IAChB,IAAIC,QAAQ,GAAG,CAAC;IAEhBH,aAAa,CAACI,OAAO,CAACC,IAAI,IAAI;MAC1B,IAAItF,KAAK,CAACuF,QAAQ,CAACD,IAAI,CAAC,EAAEH,QAAQ,EAAE;IACxC,CAAC,CAAC;IAEFD,aAAa,CAACG,OAAO,CAACC,IAAI,IAAI;MAC1B,IAAItF,KAAK,CAACuF,QAAQ,CAACD,IAAI,CAAC,EAAEF,QAAQ,EAAE;IACxC,CAAC,CAAC;IAEF,IAAID,QAAQ,GAAGC,QAAQ,EAAE,OAAO,UAAU;IAC1C,IAAIA,QAAQ,GAAGD,QAAQ,EAAE,OAAO,UAAU;IAC1C,OAAO,SAAS;EACpB;;EAEA;EACAN,YAAYA,CAAC7E,KAAK,EAAE;IAChB,MAAM4E,MAAM,GAAG,EAAE;IAEjBY,MAAM,CAACC,IAAI,CAAC,IAAI,CAACjG,mBAAmB,CAAC,CAAC6F,OAAO,CAACpF,KAAK,IAAI;MACnD,MAAMP,QAAQ,GAAG,IAAI,CAACF,mBAAmB,CAACS,KAAK,CAAC,CAACP,QAAQ;MACzD,MAAMgG,OAAO,GAAGhG,QAAQ,CAACiG,MAAM,CAACzD,OAAO,IAAIlC,KAAK,CAACuF,QAAQ,CAACrD,OAAO,CAAC,CAAC;MAEnE,IAAIwD,OAAO,CAACnE,MAAM,GAAG,CAAC,EAAE;QACpBqD,MAAM,CAACpB,IAAI,CAAC;UACRvD,KAAK,EAAEA,KAAK;UACZY,UAAU,EAAG6E,OAAO,CAACnE,MAAM,GAAG7B,QAAQ,CAAC6B,MAAM,GAAI,GAAG;UACpDqE,eAAe,EAAEF;QACrB,CAAC,CAAC;MACN;IACJ,CAAC,CAAC;IAEF,OAAOd,MAAM,CAACP,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAKA,CAAC,CAAC1D,UAAU,GAAGyD,CAAC,CAACzD,UAAU,CAAC;EAC7D;;EAEA;EACAmE,eAAeA,CAAChF,KAAK,EAAE;IACnB,MAAM6F,WAAW,GAAGL,MAAM,CAACM,MAAM,CAAC,IAAI,CAACtG,mBAAmB,CAAC,CACtDuG,OAAO,CAAC9F,KAAK,IAAIA,KAAK,CAACP,QAAQ,CAAC;IAErC,OAAOmG,WAAW,CAACF,MAAM,CAACzD,OAAO,IAAIlC,KAAK,CAACuF,QAAQ,CAACrD,OAAO,CAAC,CAAC;EACjE;;EAEA;EACA6C,8BAA8BA,CAAC/E,KAAK,EAAE;IAClC,MAAMQ,WAAW,GAAG,EAAE;IAEtB,IAAIR,KAAK,CAACuB,MAAM,GAAG,EAAE,EAAE;MACnBf,WAAW,CAACgD,IAAI,CAAC,kBAAkB,CAAC;IACxC;IAEA,IAAIxD,KAAK,CAACuB,MAAM,GAAG,EAAE,EAAE;MACnBf,WAAW,CAACgD,IAAI,CAAC,gBAAgB,CAAC;IACtC;IAEA,IAAI,CAACxD,KAAK,CAACuF,QAAQ,CAAC,GAAG,CAAC,IAAI,CAACvF,KAAK,CAACuF,QAAQ,CAAC,GAAG,CAAC,EAAE;MAC9C/E,WAAW,CAACgD,IAAI,CAAC,mBAAmB,CAAC;IACzC;IAEA,MAAM9D,QAAQ,GAAG,IAAI,CAACsF,eAAe,CAAChF,KAAK,CAAC;IAC5C,IAAIN,QAAQ,CAAC6B,MAAM,KAAK,CAAC,EAAE;MACvBf,WAAW,CAACgD,IAAI,CAAC,oBAAoB,CAAC;IAC1C;IAEA,OAAOhD,WAAW;EACtB;AACJ;;AAEA;AACA,OAAO,MAAMwF,SAAS,GAAG,IAAI/G,SAAS,CAAC,CAAC;AACxC,eAAeA,SAAS","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}